#!/bin/bash
ERR = false;
ERRS = "";
echo "Stopping..."
sudo stop hots-counter
echo "Stopped... updating from git..."
if git pull https://github.com/Evertras/HotsCounter.git
then
	echo "Git pull successful"
else
	ERRS += "GIT FAILED!"
	ERR = true;
fi
# cd public/
# echo "Running npm install..."
# npm install
# echo "Running bower install..."
# bower install
# cd ../
echo "Running grunt..."
if grunt
then
	echo "Grunt successful"
else
	ERRS += "GRUNT FAILED!"
echo "Starting site..."
sudo start hots-counter

if $ERR
then
	cowsay -f dragon $ERRS
else
	cowsay "Changes deployed successfully!"
fi
